import { forwardRef } from 'react';
import { motion } from 'framer-motion';

interface OxylifeLogoProps {
  className?: string;
  animate?: boolean;
}

const OxylifeLogo = forwardRef<HTMLDivElement, OxylifeLogoProps>(
  ({ className = '', animate = true }, ref) => {
    const containerVariants = {
      hidden: { opacity: 0 },
      visible: {
        opacity: 1,
        transition: { staggerChildren: 0.1, delayChildren: 0.3 },
      },
    };

    const breathingVariants = {
      breathe: {
        scale: [1, 1.02, 1],
        filter: [
          'drop-shadow(0 0 20px rgba(80, 190, 204, 0.3))',
          'drop-shadow(0 0 40px rgba(80, 190, 204, 0.5))',
          'drop-shadow(0 0 20px rgba(80, 190, 204, 0.3))',
        ],
        transition: {
          duration: 4,
          ease: 'easeInOut',
          repeat: Infinity,
          repeatType: 'reverse' as const,
        },
      },
    };

    // Z en diagonale avec rotation
    const zVariants = (delay: number) => ({
      initial: { opacity: 0, x: 0, y: 0, scale: 0.7, rotate: 0 },
      animate: {
        opacity: [0, 0.9, 1, 0.8, 0],
        x: [0, -30, -60, -90, -120],
        y: [0, -40, -80, -130, -180],
        scale: [0.7, 1.1, 1.3, 1.1, 0.9],
        rotate: [0, 20, -15, 10, 0],
        transition: {
          delay,
          duration: 5,
          repeat: Infinity,
          repeatDelay: 0.6,
          ease: 'easeOut',
        },
      },
    });

    return (
      <motion.div
        ref={ref}
        className={`relative inline-block ${className}`}
        variants={containerVariants}
        initial="hidden"
        animate="visible"
      >
        {/* Z en diagonale depuis le "O" */}
        <div className="absolute top-0 left-0 pointer-events-none z-10">
          <div className="relative h-64 w-96">
            {['Z', 'Z', 'Z', 'Z', 'Z'].map((_, i) => (
              <motion.span
                key={i}
                className="absolute text-cyan-400 font-black text-3xl drop-shadow-lg"
                style={{ top: '15px', left: '20px' }}
                variants={zVariants(i * 0.6)}
                initial="initial"
                animate={animate ? 'animate' : 'initial'}
              >
                Z
              </motion.span>
            ))}
          </div>
        </div>

        <motion.div
          variants={breathingVariants}
          animate={animate ? 'breathe' : undefined}
          className="flex items-center justify-center"
        >
          <motion.div
            whileHover={{ scale: 1.05 }}
            transition={{ type: 'spring', stiffness: 300, damping: 20 }}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 740.431 237.253"
              className="w-full h-auto"
              preserveAspectRatio="xMidYMid meet"
            >
              {/* Signature décorative */}
              <motion.g
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 1.5, delay: 0.5 }}
              >
                <path
                  d="M233.936,236.86c-68.8-1.8-155.9-15.8-210.2-33.8-19.3-6.4-27.9-10.5-21.8-10.5,2.8,0,43.8,5.7,50.5,7,2.8.5,7.3,1.4,10,1.9,4.8.9,11.5,2,24.7,4.1,10.3,1.5,21.6,2.9,33.3,4,6.1.6,15.3,1.5,20.5,2,52.6,5.2,130.2,3.3,203-4.9,25.7-2.9,38.1-4.3,58-6.2,16.3-1.7,114.6-2.3,143.5-1,69.3,3.2,86.2,5.7,159.8,23.8,8.1,2,14.6,3.8,14.4,3.9-.2.2-6.6-.5-14.3-1.6-37.6-5.2-76-7-154.3-7-84,0-102.1,1-167.2,9.5-61.1,8-98,10.2-149.9,8.8h0Z"
                  fill="#50becc"
                />
                <path
                  d="M164.436,216.46c-13.1-.8-34.5-2.5-42.5-3.4-1.9-.2-6.4-.6-10-1-25.2-2.4-84.3-12.8-93-16.4-3.5-1.4-1.8-1.3,9.6.4,5.4.8,21.8,2.8,36.4,4.5,57.7,6.5,95,8.5,156,8.4,57,0,74.6-1.1,147.5-8.8,45.2-4.8,51.8-5.4,80.7-6.7,47.4-2.3,123,2.9,170.3,11.5,4.4.8,12,2.2,16.9,3,4.9.9,9.2,1.8,9.4,2.1.8.8-1.7.6-14-.9-21.8-2.8-38.9-4.1-83.3-6.5-21.3-1.2-130.2-.6-143.5.7-21.7,2.2-33,3.4-58,6.3-20.8,2.3-45.9,4.5-68.5,6-21.7,1.4-96.7,1.9-114,.8h0Z"
                  fill="#13a99f"
                />
              </motion.g>

              {/* RESPIRE AIR complet */}
              <motion.g
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                transition={{ duration: 1.2, delay: 1 }}
              >
                <path d="M572.55,188.367c-.4-.3-.7-5.1-.7-10.5,0-9.5.1-9.8,2.3-9.9,4.4-.2,8.2.3,9.5,1.3,1.7,1.4,1.5,7.3-.3,8.8-1.3,1.1-1.3,1.4,0,2.7.8.8,1.5,2.3,1.5,3.3s.3,2.5.6,3.4c.4,1,.1,1.6-.9,1.6-.8,0-1.7-1.3-2.1-3.2-.8-4.1-2.3-5.8-5.2-5.8-2.2,0-2.4.4-2.4,4.5,0,4.2-.7,5.4-2.3,3.8h0ZM582.25,175.867c1.6-2.6-.4-5.2-4.3-5.6-3-.3-3.1-.2-3.1,3.8s.1,4.1,3.1,3.8c1.8-.2,3.7-1.1,4.3-2h0Z" fill="currentColor"/>
                <path d="M589.85,178.667c0-5.8.3-10.7.8-10.9,1.2-.8,10.2.5,10.2,1.4,0,.5-2,.9-4.5.9q-4.5,0-4.5,3.5t4.5,3.5c5.7,0,5.9,1.8.3,2.2-4.2.3-4.3.4-4.6,4.1l-.3,3.7h5c2.8,0,5.1.5,5.1,1,0,.6-2.7,1-6,1h-6v-10.4h0Z" fill="currentColor"/>
                <path d="M605.55,188.367c-1.6-1.5-.5-2.1,3.1-1.6,2.8.4,4.2.1,5.2-1.2,1.8-2.2.4-4.5-4-6.6-3.9-1.9-5.3-4-4.4-7.3.7-2.9,4.6-4.5,8.9-3.6,3.4.8,2,1.7-3,2.2-2.2.2-3.1.9-3.3,2.5-.3,1.7.6,2.7,3.7,4.3,6.2,3.1,7.4,7.4,3.2,10.7-1.7,1.3-8.3,1.7-9.4.6h0Z" fill="currentColor"/>
                <path d="M620.85,178.767c0-9.2.2-10.6,1.8-10.9,2.8-.6,9.4.9,10.3,2.3,1.1,1.7,1.1,6,.1,7.5-1,1.6-4.8,3.4-7.1,3.4-1.6,0-2,.8-2.3,3.7-.2,2-.9,3.8-1.5,4.1-1,.3-1.3-2.2-1.3-10.1h0ZM629.85,177.067c1.1-1.1,2-2.4,2-2.8,0-1.4-2.5-4.1-4-4.2-3.5-.5-4,.1-4,4.5,0,3.8.3,4.5,2,4.5,1.1,0,2.9-.9,4-2Z" fill="currentColor"/>
                <path d="M638.05,178.867c.2-7,.7-10.3,1.6-10.6.9-.3,1.2,2.2,1.2,10.2,0,8.9-.3,10.6-1.5,10.6-1.3,0-1.5-1.6-1.3-10.2Z" fill="currentColor"/>
                <path d="M645.85,178.567v-10.5h5.3c2.9,0,5.8.5,6.5,1.2,1.7,1.7,1.5,7.3-.3,8.8-1.2,1-1.2,1.5-.1,3.3,2.2,3.6,2.9,7.7,1.2,7.7-.8,0-1.7-1.4-2.1-3.2-1-4.3-2.2-5.8-5.1-5.8-2.2,0-2.4.4-2.4,4.5,0,3.3-.4,4.5-1.5,4.5-1.2,0-1.5-1.8-1.5-10.5h0ZM655.25,176.467c3.1-3,1.2-6.4-3.6-6.4-2.6,0-2.8.3-2.8,4,0,3.6.3,4,2.4,4,1.4,0,3.2-.7,4-1.6h0Z" fill="currentColor"/>
                <path d="M663.75,188.867c-.6-1.2-.5-20.9.1-21.3,1.3-.8,11,.7,10.4,1.6-.3.5-2.3.9-4.5.9-3.8,0-3.9.1-3.9,3.5s.1,3.5,4,3.5c2.2,0,4,.5,4,1,0,.6-1.8,1-4,1h-4v8h4.5c2.5,0,4.5.5,4.5,1,0,.8-10.7,1.5-11.1.8Z" fill="currentColor"/>
                <path d="M684.85,187.967c0-1.8,6.1-19.3,7.1-20.4,1.6-1.6,3.5,1.6,6.4,10.5,1.5,4.7,3,9.1,3.3,9.8.2.6-.2,1.2-1,1.2-.7,0-1.9-1.3-2.5-3-1-2.6-1.6-3-5.1-3s-4.1.3-5.1,3c-1,2.9-3.1,4.2-3.1,1.9h0ZM695.85,180.367c0-.5-.7-2.8-1.4-5.3-1.3-4.3-1.4-4.4-2.3-2-.6,1.4-1.3,3.7-1.7,5.3-.6,2.5-.4,2.7,2.4,2.7,1.6,0,3-.3,3-.7Z" fill="currentColor"/>
                <path d="M704.85,178.567c0-8.7.3-10.5,1.5-10.5s1.5,1.8,1.5,10.5-.3,10.5-1.5,10.5-1.5-1.8-1.5-10.5Z" fill="currentColor"/>
                <path d="M712.85,178.567v-10.5l3.3-.1c5.1-.2,7.1.2,8.6,1.6,1.8,1.8,1.7,6.3-.2,8.2-1.3,1.3-1.4,1.9-.2,3.7,2.2,3.6,2.8,7.6,1.1,7.6-.9,0-1.8-1.4-2.2-3.5-.6-3.5-2.8-5.5-5.8-5.5-1.2,0-1.6,1.1-1.6,4.5,0,3.3-.4,4.5-1.5,4.5-1.2,0-1.5-1.8-1.5-10.5h0ZM722.25,176.467c3.1-3,1.2-6.4-3.6-6.4-2.6,0-2.8.3-2.8,4,0,3.6.3,4,2.4,4,1.4,0,3.2-.7,4-1.6h0Z" fill="currentColor"/>
              </motion.g>

              {/* Lune dans le O */}
              <motion.g
                initial={{ opacity: 0, scale: 0.8 }}
                animate={{ opacity: 1, scale: 1 }}
                transition={{ duration: 1, delay: 0.2 }}
              >
                <path d="M65.64,155.119c-10.2-2.1-21.5-6.5-21.5-8.5,0-.5,3.4-1.4,7.6-2,20.9-3.1,53.4-19.9,69.5-36,16.7-16.7,20.7-40.4,10.5-62.7-6.1-13.3-14.1-21.8-40-42.6-6.4-5.1,8.3-1.8,21.7,5,14.5,7.2,26.7,20.2,34.1,36.4,5.6,12,7,18.6,6.9,33.3,0,15.4-1.4,21.9-7.8,35-9.7,20.2-28.2,35.5-49.3,41-8.4,2.2-23.4,2.7-31.7,1.1h0Z" fill="#50becc"/>
              </motion.g>

              {/* O → gros pop avec rotation */}
              <motion.g
                initial={{ opacity: 0, scale: 0.5, rotate: -20 }}
                animate={{ opacity: 1, scale: 1, rotate: 0 }}
                transition={{ duration: 1.2, ease: 'backOut', delay: 0.4 }}
              >
                <path d="M65.64,155.436c-14.5-2.8-26.9-9.4-38-20.1C11.94,120.136,3.14,99.936,3.14,79.136c0-8.9,2.1-22.8,3.7-24.3.4-.5,5.5,3.2,11.3,8.2,22.2,19,37,27.8,44.4,26.2,9.3-2,19.6-11.4,22.5-20.6,2.6-8-4.3-12.8-18.5-12.8-10.8,0-30.9-4.8-40.9-9.7-5.2-2.6-11.5-6.8-11.5-7.6,0-1.6,6.4-10.2,11.9-16.1C57.44-10.864,112.74-6.464,139.74,31.436c10.5,14.7,14.8,28.3,14.7,46.9,0,15.4-1.4,21.9-7.8,35-9.7,20.2-28.2,35.5-49.3,41-8.3,2.2-23.4,2.7-31.7,1.1ZM96.14,152.136c9.7-2.2,21.6-8.4,29.8-15.3,3.9-3.3,7.2-6.5,7.2-7s1.6-2.6,3.5-4.7c3.4-3.7,11.1-17.7,12-21.8.3-1.1,1.2-4.5,2.1-7.5,2.2-7.7,2.2-26.4,0-35.5-3.7-15.2-15.1-33.3-26.8-42.6C109.44,6.236,89.04.436,70.94,2.736c-9.8,1.2-20.5,4.6-28.5,9.2-10.3,5.9-26.3,22.9-24.9,26.4,1.2,3.3,22.6,11.9,33.6,13.6,3,.5,10.6,1.3,16.9,1.9,11.6,1,17.1,3,18.5,6.6,1.1,2.9.6,9.6-1,13-4.8,10.1-18.2,19.1-26.9,18.2-8.7-1-18.7-7.4-39.3-25-5.7-4.8-10.7-8.8-11.1-8.8-1.3,0-3.1,11.4-3.1,19.7,0,22,7.7,40.1,24,56.4,6,6,9.4,8.4,17,12.1,17.7,8.6,32,10.4,50,6.1h0Z" fill="currentColor"/>
                <path d="M67.14,34.236c-7.8-2.1-11.9-5.1-9.2-6.8.5-.3,3.5.6,6.8,1.9,3.2,1.4,7.6,2.5,9.7,2.5,4,0,4.8,1.3,1.8,3-2.4,1.2-2.3,1.2-9.1-.6Z" fill="currentColor"/>
              </motion.g>

              {/* x → slide depuis la gauche */}
              <motion.g
                initial={{ x: -150, opacity: 0 }}
                animate={{ x: 0, opacity: 1 }}
                transition={{ duration: 0.9, delay: 0.8, type: 'spring', stiffness: 80 }}
              >
                <path d="M177.385,153.317c-.7-.4-1-1.5-.7-2.4.6-1.5,24.4-33.5,33.8-45.3l4.1-5.2-3.4-4.8c-1.8-2.6-3.8-5.4-4.5-6.3-.7-.8-4-5.3-7.4-10-3.5-4.7-10.1-13.6-14.7-19.8-4.7-6.3-8.5-12.1-8.6-13,0-1,.8-1.8,2-2,1.7-.2,5.6,4.4,21.2,25.3l19,25.7,19.1-25.6c14-18.8,19.6-25.6,21.1-25.6,2.9,0,2.5,2.9-1.2,8.1-1.8,2.4-3.7,4.9-4.3,5.5-.5.6-4.8,6.4-9.5,12.8-4.7,6.4-11.3,15.5-14.7,20.1-3.5,4.6-6.3,8.8-6.3,9.3s4,6.1,8.8,12.3c4.8,6.3,13.4,17.6,19.1,25.2,9.7,12.9,10.3,14,8.7,15.5-1.5,1.5-1.8,1.5-4-.8-2.1-2.2-31-39.5-35-45.1-.9-1.3-1.7-2.1-2-1.8-.9,1-22.7,29.3-29.4,38.1-7.4,9.9-8.9,11.2-11.2,9.8h0Z" fill="currentColor"/>
              </motion.g>

              {/* y → tombe du haut avec rebond */}
              <motion.g
                initial={{ y: -100, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{ duration: 1, delay: 1, type: 'spring', bounce: 0.5 }}
              >
                <path d="M300.14,187.759c0-.9,1-3.7,2.1-6.3,8.4-18.3,12.9-28.7,12.9-29.7,0-.7-1.6-4.8-3.6-9.1-2-4.4-4.5-9.9-5.6-12.4s-3.2-6.7-4.5-9.5c-2.3-4.6-16.9-36.1-22.3-48-1.3-2.7-4.5-9.7-7.2-15.5-5-10.6-5.3-13-2-13,1.5,0,3.9,4.4,11.2,20.3,5.1,11.1,11.5,24.9,14.2,30.7s8.8,19,13.6,29.4c4.8,10.3,9.1,18.8,9.7,18.8.5,0,3.7-6.2,7.2-13.9,3.5-7.6,13.8-29.9,23-49.6,14.6-31.3,16.9-35.8,18.7-35.5,1.4.2,2,1,1.9,2.3-.1,1.2-4.3,10.8-9.2,21.5-5,10.7-19.5,42.2-32.3,70-19.8,42.9-23.7,50.5-25.6,50.8-1.5.2-2.2-.2-2.2-1.3h0Z" fill="currentColor"/>
              </motion.g>

              {/* L → monte du bas */}
              <motion.g
                initial={{ y: 100, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{ duration: 0.9, delay: 1.2, ease: 'easeOut' }}
              >
                <path d="M391.84,153.559c-.4-.3-.7-29.2-.7-64V26.159l2.3.3,2.2.3.3,60.8.2,60.7h40.6c26.2,0,41.2.4,42.5,1,1.5.9,1.7,1.5.9,3-1,1.9-2.4,2-44.4,2-23.8,0-43.6-.3-43.9-.7Z" fill="#50becc"/>
              </motion.g>

              {/* Point du i → petit rebond */}
              <motion.g
                initial={{ scale: 0, opacity: 0 }}
                animate={{ scale: [0, 1.3, 1], opacity: 1 }}
                transition={{ duration: 0.6, delay: 1.6, type: 'spring', stiffness: 300 }}
              >
                <circle cx="505.951" cy="19.711" r="13.042" fill="#50becc" />
              </motion.g>

              {/* i → suit doucement */}
              <motion.g
                initial={{ y: 40, opacity: 0 }}
                animate={{ y: 0, opacity: 1 }}
                transition={{ duration: 0.7, delay: 1.8 }}
              >
                <path d="M503.44,154.137c-1-.4-1.3-12.3-1.3-55v-54.4l2.3.3,2.2.3v54.4c0,35.5-.3,54.5-1,54.7-.5.1-1.6,0-2.2-.3Z" fill="#50becc"/>
              </motion.g>

              {/* f → flip horizontal */}
              <motion.g
                initial={{ rotateY: 180, opacity: 0 }}
                animate={{ rotateY: 0, opacity: 1 }}
                transition={{ duration: 0.9, delay: 2 }}
              >
                <path d="M557.44,153.559c-1-.4-1.3-10.8-1.3-47.4v-46.9h-12.6c-11.4,0-12.5-.2-12.2-1.7.3-1.6,1.8-1.8,12.4-2.1l12.2-.3.4-12.2c.4-10.3.9-13,3-17.7,4.9-10.7,15.7-17.3,28.3-17.4,6.4-.1,7,.1,7,1.9,0,1.7-.9,2.1-6.2,2.7-11,1.2-19.4,6.2-23.3,13.8-2.4,4.6-4,13.7-4,22.2v6.8h15c14.3,0,15,.1,15,2s-.7,2-14.5,2c-8,0-14.6.1-14.7.3-.1.1-.5,21.3-.8,47.1-.3,30-.9,47-1.5,47.2-.5.1-1.6,0-2.2-.3h0Z" fill="#50becc"/>
              </motion.g>

              {/* e → zoom final */}
              <motion.g
                initial={{ scale: 0.6, opacity: 0 ,x: 20, y:20}}
                animate={{ scale: 1, opacity: 1 ,x: 20}}
                transition={{ duration: 1, delay: 2.2, ease: 'backOut' }}
              >
                <path d="M642.84,136.884c-5.3-.8-13.7-3.8-19-6.7-12.5-6.7-21.2-15.6-26.7-27.4-13.7-29.4,1.8-62.2,35.5-75,6-2.3,8.1-2.6,20.7-2.7,11.8,0,15.1.4,21,2.2,20.5,6.5,37.5,23.5,41.5,41.3.6,3,1,6.9.8,8.5l-.3,3-59.2.3-59.3.2v3.3c.1,14.4,12.3,32.9,27,40.9,11.2,6.1,16,7.3,30,7.3,14.7,0,21.2-1.8,32.9-9.1,7.1-4.4,10.1-5,10.1-2,0,3.7-16.9,12.7-28.3,15-7,1.5-20.6,1.9-26.7.9ZM710.44,70.884c-2-14.7-19.6-32.5-38.6-38.9-8.5-2.9-27.3-2.7-36.2.4-8.6,3-20.1,10.5-25.5,16.6-4.2,4.8-9.5,14.7-10.7,20.1-.4,1.7-.9,3.8-1.2,4.8-.5,1.6,2.6,1.7,56.2,1.7h56.7l-.7-4.7Z" fill="#50becc"/>
              </motion.g>
            </svg>
          </motion.div>
        </motion.div>
      </motion.div>
    );
  }
);

OxylifeLogo.displayName = 'OxylifeLogo';

export default OxylifeLogo;